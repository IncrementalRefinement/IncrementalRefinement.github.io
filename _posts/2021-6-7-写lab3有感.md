# 如题

今天 debug 完了 CS144 lab3， 又堆出了屎山，但似乎有一点体会，记在这里

1. 测试很重要，测试可以保证自己在修改了工程的一部分内容之后快速判断修改是否导致了更多的错误，这里包括了过程测试以及单元测试
2. 我认为单元测试不光是能保证各个组件的功能健全性，单元测试本身也包含了一个单元的划分以及模块间解耦的过程，如果你的单侧写出来很难 mock 就说明设计上存在一定问题，可能要考虑拆模块或者重新定义模块的功能和边界。
3. 完全面向过程测试会写出全是 patch 的垃圾，这一点我的体会更深了，debug lab3的后期就是一个测试打一个补丁，代码变得越来越恶心也越来越难写
4. 面向过程编程一个重要的问题就是保证过程中的对象的状态变量的一致性，稍有不注意就会忘了修改、/错误地修改了状态变量，导致过程处于错误状态/未定义状态，所以在这时引入面向对象是很自然的，这样才能更好地保证对象的状态变量之间一致的关系
5. 写代码最难的就是平衡心智负担和项目量，OOP可以很好地优化这一点，如果写出屎山就会举步维艰
